import{r as i,j as x,U as y,t as Z}from"./app-DymL0p5r.js";import{a as P,S as j,b as H,u as M,P as L}from"./utils-Cs4BNLiu.js";function U(e,t=[]){let o=[];function n(c,f){const a=i.createContext(f),d=o.length;o=[...o,f];function r(m){const{scope:l,children:I,...s}=m,v=(l==null?void 0:l[e][d])||a,p=i.useMemo(()=>s,Object.values(s));return x.jsx(v.Provider,{value:p,children:I})}function R(m,l){const I=(l==null?void 0:l[e][d])||a,s=i.useContext(I);if(s)return s;if(f!==void 0)return f;throw new Error(`\`${m}\` must be used within \`${c}\``)}return r.displayName=c+"Provider",[r,R]}const u=()=>{const c=o.map(f=>i.createContext(f));return function(a){const d=(a==null?void 0:a[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...a,[e]:d}}),[a,d])}};return u.scopeName=e,[n,ee(u,...t)]}function ee(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(c){const f=n.reduce((a,{useScope:d,scopeName:r})=>{const m=d(c)[`__scope${r}`];return{...a,...m}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return o.scopeName=t.scopeName,o}function w(e,t,{checkForDefaultPrevented:o=!0}={}){return function(u){if(e==null||e(u),o===!1||!u.defaultPrevented)return t==null?void 0:t(u)}}function te(e){const t=e+"CollectionProvider",[o,n]=U(t),[u,c]=o(t,{collectionRef:{current:null},itemMap:new Map}),f=I=>{const{scope:s,children:v}=I,p=y.useRef(null),C=y.useRef(new Map).current;return x.jsx(u,{scope:s,itemMap:C,collectionRef:p,children:v})};f.displayName=t;const a=e+"CollectionSlot",d=y.forwardRef((I,s)=>{const{scope:v,children:p}=I,C=c(a,v),S=P(s,C.collectionRef);return x.jsx(j,{ref:S,children:p})});d.displayName=a;const r=e+"CollectionItemSlot",R="data-radix-collection-item",m=y.forwardRef((I,s)=>{const{scope:v,children:p,...C}=I,S=y.useRef(null),F=P(s,S),T=c(r,v);return y.useEffect(()=>(T.itemMap.set(S,{ref:S,...C}),()=>void T.itemMap.delete(S))),x.jsx(j,{[R]:"",ref:F,children:p})});m.displayName=r;function l(I){const s=c(e+"CollectionConsumer",I);return y.useCallback(()=>{const p=s.collectionRef.current;if(!p)return[];const C=Array.from(p.querySelectorAll(`[${R}]`));return Array.from(s.itemMap.values()).sort((T,E)=>C.indexOf(T.ref.current)-C.indexOf(E.ref.current))},[s.collectionRef,s.itemMap])}return[{Provider:f,Slot:d,ItemSlot:m},l,n]}var oe=Z.useId||(()=>{}),ne=0;function re(e){const[t,o]=i.useState(oe());return H(()=>{o(n=>n??String(ne++))},[e]),t?`radix-${t}`:""}function se({prop:e,defaultProp:t,onChange:o=()=>{}}){const[n,u]=ce({defaultProp:t,onChange:o}),c=e!==void 0,f=c?e:n,a=M(o),d=i.useCallback(r=>{if(c){const m=typeof r=="function"?r(e):r;m!==e&&a(m)}else u(r)},[c,e,u,a]);return[f,d]}function ce({defaultProp:e,onChange:t}){const o=i.useState(e),[n]=o,u=i.useRef(n),c=M(t);return i.useEffect(()=>{u.current!==n&&(c(n),u.current=n)},[n,u,c]),o}var ue=i.createContext(void 0);function ie(e){const t=i.useContext(ue);return e||t||"ltr"}var _="rovingFocusGroup.onEntryFocus",ae={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[N,K,le]=te(h),[fe,ye]=U(h,[le]),[de,me]=fe(h),V=i.forwardRef((e,t)=>x.jsx(N.Provider,{scope:e.__scopeRovingFocusGroup,children:x.jsx(N.Slot,{scope:e.__scopeRovingFocusGroup,children:x.jsx(ve,{...e,ref:t})})}));V.displayName=h;var ve=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:n,loop:u=!1,dir:c,currentTabStopId:f,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:d,onEntryFocus:r,preventScrollOnEntryFocus:R=!1,...m}=e,l=i.useRef(null),I=P(t,l),s=ie(c),[v=null,p]=se({prop:f,defaultProp:a,onChange:d}),[C,S]=i.useState(!1),F=M(r),T=K(o),E=i.useRef(!1),[z,O]=i.useState(0);return i.useEffect(()=>{const b=l.current;if(b)return b.addEventListener(_,F),()=>b.removeEventListener(_,F)},[F]),x.jsx(de,{scope:o,orientation:n,dir:s,loop:u,currentTabStopId:v,onItemFocus:i.useCallback(b=>p(b),[p]),onItemShiftTab:i.useCallback(()=>S(!0),[]),onFocusableItemAdd:i.useCallback(()=>O(b=>b+1),[]),onFocusableItemRemove:i.useCallback(()=>O(b=>b-1),[]),children:x.jsx(L.div,{tabIndex:C||z===0?-1:0,"data-orientation":n,...m,ref:I,style:{outline:"none",...e.style},onMouseDown:w(e.onMouseDown,()=>{E.current=!0}),onFocus:w(e.onFocus,b=>{const W=!E.current;if(b.target===b.currentTarget&&W&&!C){const D=new CustomEvent(_,ae);if(b.currentTarget.dispatchEvent(D),!D.defaultPrevented){const A=T().filter(g=>g.focusable),J=A.find(g=>g.active),Q=A.find(g=>g.id===v),X=[J,Q,...A].filter(Boolean).map(g=>g.ref.current);Y(X,R)}}E.current=!1}),onBlur:w(e.onBlur,()=>S(!1))})})}),$="RovingFocusGroupItem",B=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:n=!0,active:u=!1,tabStopId:c,...f}=e,a=re(),d=c||a,r=me($,o),R=r.currentTabStopId===d,m=K(o),{onFocusableItemAdd:l,onFocusableItemRemove:I}=r;return i.useEffect(()=>{if(n)return l(),()=>I()},[n,l,I]),x.jsx(N.ItemSlot,{scope:o,id:d,focusable:n,active:u,children:x.jsx(L.span,{tabIndex:R?0:-1,"data-orientation":r.orientation,...f,ref:t,onMouseDown:w(e.onMouseDown,s=>{n?r.onItemFocus(d):s.preventDefault()}),onFocus:w(e.onFocus,()=>r.onItemFocus(d)),onKeyDown:w(e.onKeyDown,s=>{if(s.key==="Tab"&&s.shiftKey){r.onItemShiftTab();return}if(s.target!==s.currentTarget)return;const v=pe(s,r.orientation,r.dir);if(v!==void 0){if(s.metaKey||s.ctrlKey||s.altKey||s.shiftKey)return;s.preventDefault();let C=m().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")C.reverse();else if(v==="prev"||v==="next"){v==="prev"&&C.reverse();const S=C.indexOf(s.currentTarget);C=r.loop?Re(C,S+1):C.slice(S+1)}setTimeout(()=>Y(C))}})})})});B.displayName=$;var Ce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pe(e,t,o){const n=Ie(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ce[n]}function Y(e,t=!1){const o=document.activeElement;for(const n of e)if(n===o||(n.focus({preventScroll:t}),document.activeElement!==o))return}function Re(e,t){return e.map((o,n)=>e[(t+n)%e.length])}var Fe=V,Te=B;function q(e){var t,o,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(o=q(e[t]))&&(n&&(n+=" "),n+=o);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Se(){for(var e,t,o=0,n="";o<arguments.length;)(e=arguments[o++])&&(t=q(e))&&(n&&(n+=" "),n+=t);return n}const k=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,G=Se,we=(e,t)=>o=>{var n;if((t==null?void 0:t.variants)==null)return G(e,o==null?void 0:o.class,o==null?void 0:o.className);const{variants:u,defaultVariants:c}=t,f=Object.keys(u).map(r=>{const R=o==null?void 0:o[r],m=c==null?void 0:c[r];if(R===null)return null;const l=k(R)||k(m);return u[r][l]}),a=o&&Object.entries(o).reduce((r,R)=>{let[m,l]=R;return l===void 0||(r[m]=l),r},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((r,R)=>{let{class:m,className:l,...I}=R;return Object.entries(I).every(s=>{let[v,p]=s;return Array.isArray(p)?p.includes({...c,...a}[v]):{...c,...a}[v]===p})?[...r,m,l]:r},[]);return G(e,f,d,o==null?void 0:o.class,o==null?void 0:o.className)};export{Te as I,Fe as R,U as a,ye as b,w as c,ie as d,we as e,te as f,re as g,se as u};
